/*
* dts file for iVeia Atlas-II-Z8
*
*
* Patrick Cleary <pcleary@iveia.com>
*
* This program is free software; you can redistribute it and/or
* modify it under the terms of the GNU General Public License as
* published by the Free Software Foundation; either version 2 of
* the License, or (at your option) any later version.
*/

/dts-v1/;

#include "zynqmp.dtsi"
#include "zynqmp-clk-ccf.dtsi"
#include <dt-bindings/gpio/gpio.h>
#include <dt-bindings/phy/phy.h>
#include <dt-bindings/media/xilinx-vip.h>

/ {
	model = "ZynqMP ZCU102";
	compatible = "xlnx,zynqmp-zcu102", "xlnx,zynqmp";


	aliases {
		ethernet0 = &gem0;
		gpio0 = &gpio;
		i2c0 = &i2c0;
		i2c1 = &i2c1;
		rtc0 = &rtc;
		serial0 = &uart1;
		serial1 = &uart0;
		spi0 = &qspi;
		usb0 = &iusb0;
		usb1 = &iusb1;
	};

	chosen {
                //bootargs = "console=ttyPS1,115200n8 earlycon=cdns,mmio,0xff010000,115200n8 init=/init video=DP-1:1024x768@60 root=/dev/mmcblk0p2 rw rootfstype=ext4 drm.debug=0xf rootwait androidboot.selinux=disabled androidboot.hardware=zcu102 qemu=1";
		//bootargs = "console=ttyPS0,115200n8 single root=/dev/mmcblk0p3 rw rootfstype=ext4 rootwait rw earlyprintk loglevel=9";
                //bootargs = "console=ttyPS1,115200n8 rw earlyprintk loglevel=9";
                bootargs = "earlycon loglevel=9";
                stdout-path = "serial0:115200n8";
	};

	memory {
		device_type = "memory";
		reg = <0x0 0x0 0x0 0x80000000>, <0x8 0x00000000 0x0 0x80000000>;
	};


};


&gem0 {
        phy-mode = "gmii";
        status = "okay";
        xlnx,ptp-enet-clock = <0x0>;
        clock-names = "pclk", "hclk", "tx_clk", "rx_clk", "tsu_clk";
        clocks = <&clk 31>, <&clk 104>, <&clk 45>, <&clk 49>, <&clk 44>;
};
        

&amba {

	sv_driver_plat@80000000 {
		compatible = "xlnx,sv_driver_plat";
		interrupt-parent = <&gic>;
		interrupts = <0x0 106 0x4>;
		reg = <0x0 0x80000000 0x0 0x1000 0x0 0x80001000 0x0 0x1000 0x0 0x80002000 0x0 0x1000 0x0 0x88000000 0x0 0x4000000 0x0 0x8C000000 0x0 0x4000000>;
	};

        fake_touch {
                compatible = "iveia,fakets";
        };
        
        gpio-restart {
                compatible = "gpio-restart";
                gpios = <&gpio 30 1>;
                priority = <128>;
                active-delay = <100>;
                inactive-delay = <100>;
                wait-delay = <3000>;
        };

        /*
        aurora_gem0: aurora_gem0@ff0b0000 {
                compatible = "cdns,zynqmp-gem", "cdns,gem";
                status = "okay";
                interrupt-parent = <&gic>;
                interrupts = <0 57 4>, <0 57 4>;
                reg = <0x0 0xff0b0000 0x0 0x1000>;
                clocks = <&clk 31>, <&clk 104>, <&clk 45>, <&clk 49>, <&clk 44>;
                clock-names = "pclk", "hclk", "tx_clk", "rx_clk", "tsu_clk";
                #address-cells = <1>;
                #size-cells = <0>;
                #stream-id-cells = <1>;
                iommus = <&smmu 0x874>;
                power-domains = <&pd_eth0>;
                phy-mode = "gmii";
                xlnx,ptp-enet-clock = <0x00000000>;
                
                //phy-handle = <&aurora_phy0>;
                //use-internal-mdio = <1>;

                //aurora_phy0: phy@0 {
                //        compatible = "ethernet-phy-ieee802.3-c22";
                //        device_type = "ethernet-phy";
                //        reg = <1>;
                //};
        };
        */

        // ETH3
        aurora_gem3: aurora_gem3@ff0e0000 {
                //Aurora and Watershed have same PHY Connection
		compatible = "cdns,zynqmp-gem", "cdns,gem";
		status = "okay";
		interrupt-parent = <&gic>;
		interrupts = <0 63 4>, <0 63 4>;
		reg = <0x0 0xff0e0000 0x0 0x1000>;
		clocks = <&clk 31>, <&clk 107>, <&clk 48>, <&clk 52>, <&clk 44>;
		clock-names = "pclk", "hclk", "tx_clk", "rx_clk", "tsu_clk";
		#address-cells = <1>;
		#size-cells = <0>;
		#stream-id-cells = <1>;
		iommus = <&smmu 0x877>;
		power-domains = <&pd_eth3>;
                phy-mode = "sgmii";
                phy-names = "sgmii-phy";

                phy-handle = <&aurora_phy3>;
                use-internal-mdio = <1>;

                aurora_phy3: phy@0 {
                        compatible = "ethernet-phy-ieee802.3-c22";
                        device_type = "ethernet-phy";
                        reg = <1>;
                };
        };

	iusb0: iusb0 {//May need to delete for Atlas-III-Z8 RevA or RevB
		#address-cells = <2>;
		#size-cells = <2>;
		status = "okay";
		compatible = "xlnx,zynqmp-dwc3";
		reg = <0x0 0xff9d0000 0x0 0x100>;
		clocks = <&clk 32>, <&clk 34>;
		clock-names = "bus_clk", "ref_clk";
		power-domains = <&pd_usb0>;
		ranges;
		nvmem-cells = <&soc_revision>;
		nvmem-cell-names = "soc_revision";
                
		iv_dwc3_0: iv_dwc3@fe200000 {
			compatible = "snps,dwc3";
			status = "okay";
			reg = <0x0 0xfe200000 0x0 0x40000>;
			interrupt-parent = <&gic>;
			interrupts = <0 65 4>, <0 69 4>, <0 75 4>;
			#stream-id-cells = <1>;
			iommus = <&smmu 0x860>;
			snps,quirk-frame-length-adjustment = <0x20>;
			snps,refclk_fladj;
			snps,enable_guctl1_resume_quirk;
			snps,enable_guctl1_ipd_quirk;
			snps,xhci-stream-quirk;
			/* dma-coherent; */
			/* snps,enable-hibernation; */
                        
	                dr_mode = "host";
	                snps,usb3_lpm_capable;
	                phy-names = "usb3-phy";
	                //phys = <&lane0 PHY_TYPE_USB3 0 2 26000000>;
                        
		};
                
	};

	iusb1: iusb1 {//May need to delete for Atlas-III-Z8 RevA or RevB
		#address-cells = <2>;
		#size-cells = <2>;
		status = "okay";
		compatible = "xlnx,zynqmp-dwc3";
		reg = <0x0 0xff9e0000 0x0 0x100>;
		clocks = <&clk 33>, <&clk 34>;
		clock-names = "bus_clk", "ref_clk";
                
		power-domains = <&pd_usb1>;
		ranges;
		nvmem-cells = <&soc_revision>;
		nvmem-cell-names = "soc_revision";
                
		iv_dwc3_1: iv_dwc3_1@fe300000 {
			compatible = "snps,dwc3";
			status = "okay";
			reg = <0x0 0xfe300000 0x0 0x40000>;
			interrupt-parent = <&gic>;
			interrupts = <0 70 4>, <0 74 4>, <0 76 4>;
			#stream-id-cells = <1>;
			iommus = <&smmu 0x861>;
			snps,quirk-frame-length-adjustment = <0x20>;
			snps,refclk_fladj;
			snps,enable_guctl1_resume_quirk;
			snps,enable_guctl1_ipd_quirk;
			snps,xhci-stream-quirk;
			/* dma-coherent; */
                        
			// Required for USB 2.0
			snps,dis_u2_susphy_quirk;
			snps,dis_u3_susphy_quirk;
                        
			dr_mode = "peripheral";
			maximum-speed = "high-speed";
                        
		};
	};
        

//        misc_clk_0: misc_clk_0 {
//                #clock-cells = <0>;
//                clock-frequency = <300000000>;
//                compatible = "fixed-clock";
//        };

		misc_clk_0: misc_clk_0 {
			#clock-cells = <0>;
			clock-frequency = <299970032>;
			compatible = "fixed-clock";
		};
		axi_timer_0: timer@a0053000 {
			clock-frequency = <99990005>;
			clock-names = "s_axi_aclk";
			clocks = <&clk 71>;
			compatible = "xlnx,axi-timer-2.0", "xlnx,xps-timer-1.00.a";
			interrupt-names = "interrupt";
			interrupt-parent = <&gic>;
			interrupts = <0 110 4>;
			reg = <0x0 0xa0053000 0x0 0x1000>;
			xlnx,count-width = <0x20>;
			xlnx,gen0-assert = <0x1>;
			xlnx,gen1-assert = <0x1>;
			xlnx,one-timer-only = <0x0>;
			xlnx,trig0-assert = <0x1>;
			xlnx,trig1-assert = <0x1>;
		};

		mipi_csi2_rx_v_frmbuf_wr_0: v_frmbuf_wr@a0260000 {
			#dma-cells = <1>;
			clock-names = "ap_clk";
			clocks = <&misc_clk_0>;
			//clocks = <&zynqmp_clk 72>;
			compatible = "xlnx,v-frmbuf-wr-2", "xlnx,axi-frmbuf-wr-v2";
			interrupt-names = "interrupt";
			interrupt-parent = <&gic>;
			interrupts = <0 106 4>;
			reg = <0x0 0xa0260000 0x0 0x10000>;
			reset-gpios = <&gpio 80 1>;
			xlnx,dma-addr-width = <32>;
			xlnx,dma-align = <16>;
			xlnx,max-width = <4208>;
			xlnx,max-height = <3120>;
			xlnx,pixels-per-clock = <2>;
			xlnx,s-axi-ctrl-addr-width = <0x7>;
			xlnx,s-axi-ctrl-data-width = <0x20>;
			xlnx,vid-formats = "bgr888", "xbgr8888", "xrgb8888", "uyvy", "y8", "vuy888", "xvuy8888", "yuyv", "nv12", "nv16";
			xlnx,video-width = <8>;
		};

                mipi_csi2_rx_mipi_csi2_rx_subsyst_0: mipi_csi2_rx_subsystem@a0000000 {
			clock-names = "lite_aclk", "dphy_clk_200M", "video_aclk";
			clocks = <&clk 71>, <&misc_clk_1>, <&clk 72>;
			compatible = "xlnx,mipi-csi2-rx-subsystem-3.0";
			interrupt-names = "csirxss_csi_irq";
                        status = "okay";
			interrupt-parent = <&gic>;
			interrupts = <0 105 4>;
			reg = <0x0 0xa0000000 0x0 0x10000>;
			xlnx,axis-tdata-width = <32>;
			xlnx,cal-mode = "NONE";
			xlnx,clk-io-swap = "false";
			xlnx,clk-lane-io-position = <0x6>;
			xlnx,clk-lp-io-swap = "false";
			xlnx,csi-en-activelanes = "false";
			xlnx,csi-en-crc = "true";
			xlnx,csi-filter-userdatatype = "true";
			xlnx,csi-opt1-regs = "false";
			xlnx,csi-pxl-format = "YUV422_8bit";
			xlnx,csi2rx-dbg = <0x0>;
			xlnx,data-lane0-io-position = <0x2>;
			xlnx,data-lane1-io-position = <0x4>;
			xlnx,data-lane2-io-position = <0x8>;
			xlnx,data-lane3-io-position = <0x0>;
			xlnx,dl0-io-swap = "false";
			xlnx,dl0-lp-io-swap = "false";
			xlnx,dl1-io-swap = "false";
			xlnx,dl1-lp-io-swap = "false";
			xlnx,dl2-io-swap = "false";
			xlnx,dl2-lp-io-swap = "false";
			xlnx,dl3-io-swap = "false";
			xlnx,dl3-lp-io-swap = "false";
			xlnx,dphy-lanes = <0x4>;
			xlnx,dphy-mode = "SLAVE";
			xlnx,en-bg0-pin0 = "false";
			xlnx,en-bg0-pin6 = "false";
			xlnx,en-bg1-pin0 = "false";
			xlnx,en-bg1-pin6 = "false";
			xlnx,en-bg2-pin0 = "false";
			xlnx,en-bg2-pin6 = "false";
			xlnx,en-bg3-pin0 = "false";
			xlnx,en-bg3-pin6 = "false";
			xlnx,en-clk300m = "false";
			xlnx,en-cnts-byte-clk = "false";
			xlnx,en-csi-v2-0 = "false";
			xlnx,en-exdesigns = "false";
			xlnx,en-timeout-regs = "false";
			xlnx,en-vcx = "false";
			xlnx,esc-timeout = <0x6400>;
			xlnx,exdes-board = "ZCU102";
			xlnx,exdes-config = "MIPI_Video_Pipe_Camera_to_Display";
			xlnx,exdes-fmc = "LI-IMX274MIPI-FMC V1.0 Single Sensor";
			xlnx,fifo-rd-en-control = "true";
			xlnx,hs-line-rate = <0x4b0>;
			xlnx,hs-settle-ns = <0x8f>;
			xlnx,hs-timeout = <0x10005>;
			xlnx,idly-group-name = "mipi_csi2rx_idly_group";
			xlnx,idly-tap = <0x1>;
			xlnx,init = <0x186a0>;
			xlnx,is-7series = "false";
			xlnx,is-versal = "false";
			xlnx,max-lanes = <4>;
			xlnx,mipi-slv-int = <0x0>;
			xlnx,ppc = <2>;
			xlnx,rcve-alt-deskew-seq = "false";
			xlnx,rcve-deskew-seq = "false";
			xlnx,share-idlyctrl = "false";
			xlnx,stretch-line-rate = <0x9c4>;
			xlnx,vc = <4>;
			xlnx,vfb ;

			mipi0_ports: ports {
				#address-cells = <0x1>;
				#size-cells = <0x0>;
                                
				mipi0_port0: port@0 {
					reg = <0x0>;
                                        //xlnx,cfa-pattern = "rggb";
					xlnx,video-format = <0x0>;
					xlnx,video-width = <0x8>;
                                        
					mipi0_mipi_out: endpoint {
						remote-endpoint = <&mipi0_vcap_in>;
					};
				};
				mipi0_port1: port@1 {
					reg = <0x1>;
                                        //xlnx,cfa-pattern = "rggb";
					xlnx,video-format = <0x0>;
					xlnx,video-width = <0x8>;
                                        
					mipi0_mipi_in: endpoint {
                                                remote-endpoint = <&basler_camera_mipi0_ep>;
                                                //remote-endpoint = <&dummy_in02>;
					};
				};
			};
                };
                
		mipi0_vcap {
			compatible = "xlnx,video";
			dma-names = "port0";
			dmas = <&mipi_csi2_rx_v_frmbuf_wr_0 0x0>;

			mipi0_vcap_ports: ports {
				#address-cells = <0x1>;
				#size-cells = <0x0>;

				mipi0_port: port@0 {
					direction = "input";
					reg = <0x0>;

					mipi0_vcap_in: endpoint {
						remote-endpoint = <&mipi0_mipi_out>;
					};
				};
			};
		};

		mipi_csi2_rx_v_frmbuf_wr_1: v_frmbuf_wr@a0010000 {
			#dma-cells = <1>;
			clock-names = "ap_clk";
			clocks = <&misc_clk_0>;
			//clocks = <&zynqmp_clk 72>;
			compatible = "xlnx,v-frmbuf-wr-2", "xlnx,axi-frmbuf-wr-v2";
			interrupt-names = "interrupt";
			interrupt-parent = <&gic>;
			interrupts = <0 109 4>;
			reg = <0x0 0xa0010000 0x0 0x10000>;
			reset-gpios = <&gpio 81 1>;
			xlnx,dma-addr-width = <32>;
			xlnx,dma-align = <16>;
			xlnx,max-width = <4208>;
			xlnx,max-height = <3120>;
			xlnx,pixels-per-clock = <2>;
			xlnx,s-axi-ctrl-addr-width = <0x7>;
			xlnx,s-axi-ctrl-data-width = <0x20>;
			xlnx,vid-formats = "bgr888", "xbgr8888", "xrgb8888", "uyvy", "y8", "vuy888", "xvuy8888", "yuyv", "nv12", "nv16";
			xlnx,video-width = <8>;
		};

                mipi_csi2_rx_mipi_csi2_rx_subsyst_1: mipi_csi2_rx_subsystem@a0020000 {
			clock-names = "lite_aclk", "dphy_clk_200M", "video_aclk";
			clocks = <&clk 71>, <&misc_clk_1>, <&clk 72>;
			compatible = "xlnx,mipi-csi2-rx-subsystem-3.0";
			interrupt-names = "csirxss_csi_irq";
                        status = "okay";
			interrupt-parent = <&gic>;
			interrupts = <0 108 4>;
			reg = <0x0 0xa0020000 0x0 0x10000>;
			xlnx,axis-tdata-width = <32>;
			xlnx,cal-mode = "NONE";
			xlnx,clk-io-swap = "false";
			xlnx,clk-lane-io-position = <0x6>;
			xlnx,clk-lp-io-swap = "false";
			xlnx,csi-en-activelanes = "false";
			xlnx,csi-en-crc = "true";
			xlnx,csi-filter-userdatatype = "true";
			xlnx,csi-opt1-regs = "false";
			xlnx,csi-pxl-format = "YUV422_8bit";
			xlnx,csi2rx-dbg = <0x0>;
			xlnx,data-lane0-io-position = <0x2>;
			xlnx,data-lane1-io-position = <0x4>;
			xlnx,data-lane2-io-position = <0x8>;
			xlnx,data-lane3-io-position = <0x0>;
			xlnx,dl0-io-swap = "false";
			xlnx,dl0-lp-io-swap = "false";
			xlnx,dl1-io-swap = "false";
			xlnx,dl1-lp-io-swap = "false";
			xlnx,dl2-io-swap = "false";
			xlnx,dl2-lp-io-swap = "false";
			xlnx,dl3-io-swap = "false";
			xlnx,dl3-lp-io-swap = "false";
			xlnx,dphy-lanes = <0x4>;
			xlnx,dphy-mode = "SLAVE";
			xlnx,en-bg0-pin0 = "false";
			xlnx,en-bg0-pin6 = "false";
			xlnx,en-bg1-pin0 = "false";
			xlnx,en-bg1-pin6 = "false";
			xlnx,en-bg2-pin0 = "false";
			xlnx,en-bg2-pin6 = "false";
			xlnx,en-bg3-pin0 = "false";
			xlnx,en-bg3-pin6 = "false";
			xlnx,en-clk300m = "false";
			xlnx,en-cnts-byte-clk = "false";
			xlnx,en-csi-v2-0 = "false";
			xlnx,en-exdesigns = "false";
			xlnx,en-timeout-regs = "false";
			xlnx,en-vcx = "false";
			xlnx,esc-timeout = <0x6400>;
			xlnx,exdes-board = "ZCU102";
			xlnx,exdes-config = "MIPI_Video_Pipe_Camera_to_Display";
			xlnx,exdes-fmc = "LI-IMX274MIPI-FMC V1.0 Single Sensor";
			xlnx,fifo-rd-en-control = "true";
			xlnx,hs-line-rate = <0x4b0>;
			xlnx,hs-settle-ns = <0x8f>;
			xlnx,hs-timeout = <0x10005>;
			xlnx,idly-group-name = "mipi_csi2rx_idly_group";
			xlnx,idly-tap = <0x1>;
			xlnx,init = <0x186a0>;
			xlnx,is-7series = "false";
			xlnx,is-versal = "false";
			xlnx,max-lanes = <4>;
			xlnx,mipi-slv-int = <0x0>;
			xlnx,ppc = <2>;
			xlnx,rcve-alt-deskew-seq = "false";
			xlnx,rcve-deskew-seq = "false";
			xlnx,share-idlyctrl = "false";
			xlnx,stretch-line-rate = <0x9c4>;
			xlnx,vc = <4>;
			xlnx,vfb ;

			mipi1_ports: ports {
				#address-cells = <0x1>;
				#size-cells = <0x0>;
                                
				mipi1_port0: port@0 {
					reg = <0x0>;
                                        //xlnx,cfa-pattern = "rggb";
					xlnx,video-format = <0x0>;
					xlnx,video-width = <0x8>;
                                        
					mipi1_mipi_out: endpoint {
						remote-endpoint = <&mipi1_vcap_in>;
					};
				};
				mipi1_port1: port@1 {
					reg = <0x1>;
                                        //xlnx,cfa-pattern = "rggb";
					xlnx,video-format = <0x0>;
					xlnx,video-width = <0x8>;
                                        
					mipi1_mipi_in: endpoint {
                                                remote-endpoint = <&basler_camera_mipi1_ep>;
                                                //remote-endpoint = <&dummy_in02>;
					};
				};
			};
                };
                
		mipi1_vcap {
			compatible = "xlnx,video";
			dma-names = "port0";
			dmas = <&mipi_csi2_rx_v_frmbuf_wr_1 0x0>;

			mipi1_vcap_ports: ports {
				#address-cells = <0x1>;
				#size-cells = <0x0>;

				mipi1_port: port@0 {
					direction = "input";
					reg = <0x0>;

					mipi1_vcap_in: endpoint {
						remote-endpoint = <&mipi1_mipi_out>;
					};
				};
			};
		};

		misc_clk_1: misc_clk_1 {
			#clock-cells = <0>;
			clock-frequency = <199980021>;
			compatible = "fixed-clock";
		};
		mpsoc_ss_hdmi_ctrl_iic: i2c@a0050000 {
			#address-cells = <1>;
			#size-cells = <0>;
			clock-names = "s_axi_aclk";
			clocks = <&clk 71>;
			compatible = "xlnx,axi-iic-2.0", "xlnx,xps-iic-2.00.a";
			interrupt-names = "iic2intc_irpt";
			interrupt-parent = <&gic>;
			interrupts = <0 94 4>;
			reg = <0x0 0xa0050000 0x0 0x1000>;
		};
		sensor_iic_0: i2c@a0051000 {
			#address-cells = <1>;
			#size-cells = <0>;
			clock-names = "s_axi_aclk";
			clocks = <&clk 71>;
			compatible = "xlnx,axi-iic-2.0", "xlnx,xps-iic-2.00.a";
			interrupt-names = "iic2intc_irpt";
			interrupt-parent = <&gic>;
			interrupts = <0 107 4>;
			reg = <0x0 0xa0051000 0x0 0x1000>;
		};
/*
	vcu_0: vcu@a0100000 {
			#address-cells = <2>;
			#clock-cells = <1>;
			#size-cells = <2>;
			clock-names = "pll_ref", "aclk", "vcu_core_enc", "vcu_core_dec", "vcu_mcu_enc", "vcu_mcu_dec";
			clocks = <&misc_clk_2>, <&clk 71>, <&vcu_0 1>, <&vcu_0 2>, <&vcu_0 3>, <&vcu_0 4>;
			compatible = "xlnx,vcu-1.2", "xlnx,vcu";
			interrupt-names = "vcu_host_interrupt";
			interrupt-parent = <&gic>;
			interrupts = <0 96 4>;
			ranges ;
			reg = <0x0 0xa0140000 0x0 0x1000>, <0x0 0xa0141000 0x0 0x1000>;
			reg-names = "vcu_slcr", "logicore";
			reset-gpios = <&gpio 119 0>;
			encoder: al5e@a0100000 {
				compatible = "al,al5e-1.2", "al,al5e";
				interrupt-parent = <&gic>;
				interrupts = <0 96 4>;
				reg = <0x0 0xa0100000 0x0 0x10000>;
			};
			decoder: al5d@a0120000 {
				compatible = "al,al5d-1.2", "al,al5d";
				interrupt-parent = <&gic>;
				interrupts = <0 96 4>;
				reg = <0x0 0xa0120000 0x0 0x10000>;
			};
		};
*/
		misc_clk_2: misc_clk_2 {
			#clock-cells = <0>;
			clock-frequency = <33330003>;
			compatible = "fixed-clock";
		};

        
};

&pss_ref_clk {
        clock-frequency = <50000000>;
};

&fclk0 {
	status = "okay";
	clock-frequency = <50000000>;
};

&fclk1 {
	status = "okay";
	clock-frequency = <100000000>;
};

&fclk2 {
	status = "okay";
	clock-frequency = <150000000>;
};

&fclk3 {
	status = "okay";
	clock-frequency = <100000000>;
};

&serdes {
	status = "okay";
};

&can0 {
	status = "okay";
};

&can1 {
	status = "okay";
};

&gpio {
	status = "okay";
};


&fpd_dma_chan1 {
	status = "okay";
};

&fpd_dma_chan2 {
	status = "okay";
};

&fpd_dma_chan3 {
	status = "okay";
};

&fpd_dma_chan4 {
	status = "okay";
};

&fpd_dma_chan5 {
	status = "okay";
};

&fpd_dma_chan6 {
	status = "okay";
};

&fpd_dma_chan7 {
	status = "okay";
};

&fpd_dma_chan8 {
	status = "okay";
};

&gpio {
	status = "okay";
};

&gpu {
	status = "okay";
};

&watchdog0 {
	status = "okay";
};

&i2c0 {
	status = "okay";
	clock-frequency = <400000>;
        
	aurora_switch@77 {
                compatible = "nxp,pca9547";
                #address-cells = <1>;
                #size-cells = <0>;
                reg = <0x77>;
	        
		i2c@0 {
			#address-cells = <1>;
                        #size-cells = <0>;
                        reg = <0>;
	                
                        rtc@68 {
                                compatible = "stm,m41t62";
                                reg = <0x68>;
                        };
                        
                        tempsens@4f {
                                compatible = "national,lm75";
                                reg = <0x4f>;
                        };			
                };
		i2c@1 {
                        #address-cells=<1>;
                        #size-cells = <0>;
                        reg = <1>;
                        
                        switch@70 {
                                compatible = "nxp,pca9545";
                                #address-cells = <1>;
                                #size-cells = <0>;
                                reg = <0x70>;
                                i2c_70@0 {
                                        #address-cells = <1>;
                                        #size-cells = <0>;
                                        reg = <0>;                                        
                                };
                                i2c_70@1 {
                                        #address-cells = <1>;
                                        #size-cells = <0>;
                                        reg = <1>;
                                        basler_camera_mipi0: basler_camera_mipi0@36 {
                                                compatible = "iveia,basler-mipi";
                                                reg = <0x36>;
                                                status = "okay";
                                                
                                                port {
                                                        basler_camera_mipi0_ep: endpoint {
                                                                //remote-endpoint = <&mipi1_sensor_ep>;
                                                                //remote-endpoint = <&dummy_control>;
                                                                remote-endpoint = <&mipi0_mipi_in>;
                                                                
                                                                // IMPORTANT: The following three entries needs to be held
                                                                // in sync with the information stored in the mipi1_sensor_ep node. 
                                                                data-lanes = <1 2 3 4>;
                                                                clock-lanes = <0>;
                                                                link-frequencies = /bits/ 64 <120000000>;
                                                        };
                                                };
                                                
                                        };
                                        
                                };
                                i2c_70@2 {
                                        #address-cells = <1>;
                                        #size-cells = <0>;
                                        reg = <2>;

                                        basler_camera_mipi1: basler_camera_mipi1@36 {
                                                compatible = "iveia,basler-mipi";
                                                reg = <0x36>;
                                                status = "okay";
                                                
                                                port {
                                                        basler_camera_mipi1_ep: endpoint {
                                                                remote-endpoint = <&mipi1_mipi_in>;
                                                                
                                                                // IMPORTANT: The following three entries needs to be held
                                                                // in sync with the information stored in the mipi1_sensor_ep node.
                                                                data-lanes = <1 2 3 4>;
                                                                clock-lanes = <0>;
                                                                link-frequencies = /bits/ 64 <248000000>;
                                                        };
                                                };
                                        };
                                };
                                i2c_70@3 {
                                        #address-cells = <1>;
                                        #size-cells = <0>;
                                        reg = <3>;
                                };
		        }; // end switch@70                        
	        }; // end i2c@1
        }; // end switch @77
}; // end &i2c0

&i2c1 {
	status = "okay";
	clock-frequency = <400000>;
};

&pcie {
	status = "okay";
	phys = <&lane0 PHY_TYPE_PCIE 0 0 100000000>;
};

&qspi {
        status = "okay";
        is-dual = <0>;
        iv_mb_00090_flash@0 {
                compatible = "n25q128a13";
                #address-cells = <1>;
                #size-cells = <1>;
                reg = <0x0>;
                spi-max-frequency = <50000000>;
                partition@qspi-fsbl-uboot {
                        label = "qspi-fsbl-uboot";
                        reg = <0x0 0x1000000>;
                };
        };
};

&spi0 {
	status = "okay";

	aurora_tpm_spi_tis@0{
		compatible = "tcg,tpm_tis-spi";
 		reg = <0>;	/* CE0 */
 		spi-max-frequency = <500000>;
 	};
};

&rtc {
	status = "okay";
};

/* SD1 with level shifter */
&sdhci1 {
	status = "okay";
	no-1-8-v;
	xlnx,mio_bank = <1>;
	disable-wp;
};

&sdhci0 {
	status = "okay";
	no-1-8-v;
	xlnx,mio_bank = <0>;
	disable-wp;
};

&uart0 {
	status = "okay";
};

&uart1 {
	status = "okay";
};

&xilinx_ams {
	status = "okay";
};

&ams_ps {
	status = "okay";
};

&ams_pl {
	status = "okay";
};

//In ZCU102 DTS. Added with kernel update for 2018.3

&zynqmp_dpsub {
//	status = "okay";
//	phy-names = "dp-phy0", "dp-phy1";
//	phys = <&lane1 PHY_TYPE_DP 0 3 27000000>, <&lane0 PHY_TYPE_DP 1 3 27000000>;

        // Taken from the dev tree generator
        phy-names = "dp-phy0";
        phys = <&lane1 PHY_TYPE_DP 0 0 27000000>;
        status = "okay";
        xlnx,max-lanes = <1>;
};

&zynqmp_dp_snd_pcm0 {
	status = "okay";
};

&zynqmp_dp_snd_pcm1 {
	status = "okay";
};

&zynqmp_dp_snd_card0 {
	status = "okay";
};

&zynqmp_dp_snd_codec0 {
	status = "okay";
};

&xlnx_dpdma {
	status = "okay";
};
